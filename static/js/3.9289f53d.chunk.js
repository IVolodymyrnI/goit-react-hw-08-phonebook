"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[3],{7003:function(e,r,s){s.r(r),s.d(r,{default:function(){return Z}});var t=s(4087),a=s(1413),n=s(5861),i=s(9439),o=s(4687),l=s.n(o),c=s(2791),u=s(5048),d=s(1134),m=s(9229),h=s(2392),f=s(8208),p=s(9140),x=s(4125),w=s(176),j=s(4224),g=s(5218),v=s(4695),b=s(8007),k="Minimum length should be ".concat(8),I=(0,b.Ry)({email:(0,b.Z_)().required("Email is a required field").matches("[a-z0-9._%+-]+@[a-z0-9.-]+.[a-z]{2,4}$","Invalid email address"),password:(0,b.Z_)().required("Password is a required field").min(8,k)}),_=s(3602),E=s(6750),S=s(184),y=function(){var e=(0,u.I0)(),r=(0,d.cI)({resolver:(0,v.X)(I)}),s=r.register,t=r.handleSubmit,o=r.reset,b=r.formState,k=b.errors,y=b.isSubmitting,Z=(0,_.OQ)(),z=(0,i.Z)(Z,2),C=z[0],q=z[1],A=q.isError,F=q.error,R=q.isSuccess,J=function(){var r=(0,n.Z)(l().mark((function r(s){var t;return l().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,C(s);case 3:t=r.sent,e((0,E.o4)(t.data.token)),e((0,E.av)(t.data.user)),o(),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(e){return r.apply(this,arguments)}}();return(0,c.useEffect)((function(){A&&(400===F.status&&g.Am.error("The login or the password are invalid!"),"FETCH_ERROR"===F.status&&g.Am.error(F.error))}),[F,A]),(0,c.useEffect)((function(){R&&(0,g.Am)("Welcome to Contacts!",{icon:"\ud83d\ude0d"})}),[R]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(m.x,{mb:8,fontSize:32,textAlign:"center",fontWeight:600,children:"Log in"}),(0,S.jsxs)("form",{onSubmit:t(J),children:[(0,S.jsx)(h.NI,{isInvalid:k.email,children:(0,S.jsxs)(f.l,{htmlFor:"email",children:["Email",(0,S.jsx)(p.I,(0,a.Z)({defaultValue:"",type:"email",name:"email"},s("email"))),(0,S.jsx)(x.J1,{children:k.email&&k.email.message})]})}),(0,S.jsx)(h.NI,{isInvalid:k.password,mb:8,children:(0,S.jsxs)(f.l,{htmlFor:"password",children:["Password",(0,S.jsx)(p.I,(0,a.Z)({defaultValue:"",type:"password",name:"password"},s("password"))),(0,S.jsx)(x.J1,{children:k.password&&k.password.message})]})}),(0,S.jsx)(w.k,{justifyContent:"center",children:(0,S.jsx)(j.z,{type:"submit",isLoading:y,children:"Submit"})})]})]})};function Z(){return(0,S.jsx)(t.xu,{p:4,width:350,heigth:"auto",m:"auto",children:(0,S.jsx)(y,{})})}}}]);
//# sourceMappingURL=3.9289f53d.chunk.js.map